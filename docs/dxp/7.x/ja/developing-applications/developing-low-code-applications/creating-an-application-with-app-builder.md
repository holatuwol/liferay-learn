# アプリビルダーを使用したアプリケーションの作成

カスタムオブジェクトに基づいてアプリケーションを作成するには、オブジェクトを作成し、少なくとも1つのフォームビューを作成し、少なくとも1つのテーブルビューを作成して、アプリケーションをデプロイします。

  - [カスタムオブジェクトの作成](#creating-a-custom-object)
  - [フォームビューの作成](#creating-form-views)
  - [テーブルビューの作成](#creating-table-views)
  - [アプリケーションのデプロイ](#deploying-the-application)

ここでは、アプリビルダーを使用して、Time Off Requestというカスタムオブジェクトによってサポートされる2つのシンプルな休暇管理アプリケーションを作成します。 最初のアプリケーションは、リクエストの追加フォームを表示する[Time Requester]ウィジェットです。 アプリケーションのユーザーは、休暇をリクエストするときにこのフォームに記入します。 2番目のアプリケーションは、製品メニューにデプロイされた休暇管理アプリケーションで、ここで管理ユーザーは休暇申請を表示および管理できます。

## カスタムオブジェクトの作成

Time Off Requestカスタムオブジェクトを作成します。

1.  [Control Panel] → [App Builder] → [Custom Objects]に移動し、追加ボタンをクリックします。

2.  名前を入力します：*Time Off Request* 。

3.  オブジェクトのフォームビューを作成し、オブジェクトに存在するデータフィールドを定義するには、*[Continue and Create Form View]* 設定をオンのままにして、*[Continue]* をクリックします。

    ![カスタムオブジェクトの作成は、アプリビルダーアプリケーションを作成するための最初のステップです。](./creating-an-application-with-app-builder/images/01.png)

フォームビューを作成して、Time Off Requestオブジェクトに含めるデータフィールドを定義します。

## フォームビューの作成

フォームビューは、ユーザーがカスタムオブジェクトで定義したデータを入力するために使用する視覚的なインターフェイスを定義します。 アプリケーションに必要な数だけフォームビューを作成できます。 この例では、Time Off RequesterアプリケーションとManagerアプリケーションの間に必要なフォームビューは1つだけです。

フォームビューを作成します。

1.  カスタムオブジェクトを開きます（[Control Panel] → [App Builder] → [Custom Objects]）。

2.  *[Form Views]* タブで、[Add]ボタンをクリックします。 フォームビルダーが表示されます。

3.  フォームビューに*Add Request*という名前を付けます 。

4.  スクリーンショットのレイアウトを使用して、以下を追加します。

      - *[Name]* というラベルの付いた必須テキストフィールド
      - *[From]* というラベルがついた必須の日付フィールド
      - *[To]* というラベルがついた必須の日付フィールド
      - *[Comment]* というラベルがついたオプションのテキストフィールド（複数行を入力可）

5.  フォームビューを保存します。

    ![アプリビルダー内に埋め込まれたフォームビルダーを使用して、フォームビューを作成します。](./creating-an-application-with-app-builder/images/02.png)

埋め込みのフォームビルダーに加えて、カスタムオブジェクトに含まれるフィールド（他のフォームビューがある場合）は、左側のサイドバーのフォームビューに追加できます。

ユーザーがアプリケーションのデータを表示および操作する方法を定義するには、テーブルビューを作成します。

## テーブルビューの作成

テーブルビューは、アプリケーションに送信されたエントリを表示および管理（削除、編集）するためのものです。 フォームビューと同様に、カスタムオブジェクトには1つまたは複数のテーブルビューを設定できます。 このTime Off RequesterアプリケーションとManagerアプリケーションの間に必要なテーブルビューは1つだけです。

1.  Time Off Requestオブジェクトを開きます（[Control Panel] → [App Builder] → [Custom Objects]）。

2.  [Table Views]タブで、[Add]ボタンをクリックします。 テーブルビルダーが表示されます。

    ![アプリビルダー内に埋め込まれたテーブルビルダーを使用して、テーブルビューを作成します。](./creating-an-application-with-app-builder/images/03.png)

3.  テーブルビューに*Time Off Requests*という名前を付けます。

4.  [Comment]フィールド以外の使用可能なすべてのフィールドをテーブルキャンバスにドラッグします。

5.  テーブルビューを保存します。

``` note::
    テーブルビューにはありませんが、[Comment]フィールドは個々のレコードの詳細ビューに表示されます。 デプロイされたアプリケーションで、テーブルビューから特定のレコードをクリックして、レコードの詳細ビューを表示します。
```

## アプリケーションのデプロイ

アプリケーションをデプロイすると、ユーザーがアプリケーションにアクセスできるようになります。 アプリケーションをユーザーが利用できるようにする方法はいくつかあります。 デプロイオプションについては、[App Builder Overview](./app-builder-overview.md#deployment)をご覧ください。

Time Off Requestオブジェクト用に2つのアプリケーションをデプロイします。1つはユーザーがアクセスできるサイトページに追加できるウィジェットアプリケーションで、もう1つは[製品メニュー](../../getting-started/navigating-dxp.md#product-menu)内の管理アプリケーションで、追加の権限を持つユーザーがリクエストを管理できます。

1.  Time Off Requestを開きます（[Control Panel] → [App Builder] → [Custom Objects]）。

2.  *[Apps]* タブで、追加ボタン（![Add](../../images/icon-add.png)）をクリックします。

3.  アプリに*Time Off Requester*という名前を付けます 。

4.  フォームビューとテーブルビューを選択し、アプリの[デプロイオプション](./app-builder-overview.md#deployment)を設定します。

    *Time Off Requester*アプリケーションの場合は、*[Widget]* を選択して[Deploy]をクリックします。 *Time Off Requester*ウィジェットアプリケーションをサイトのページにデプロイし、サイトのユーザーがすぐに利用できるようになりました。

5.  同じ手順に従って、*Time Off Request Manager*と呼ばれる2番目のアプリを作成します。今回は、製品メニューにアプリをデプロイすることを選択します。

    ![これは、サイトメニューにデプロイされたシンプルなアプリケーションです（製品メニューのデプロイオプションの1つ）。](./creating-an-application-with-app-builder/images/04.png)

管理者は、製品メニューの*Time Off Manager*アプリケーションにアクセスして、サイトユーザーからの休暇申請の管理を開始できるようになりました。

## アプリケーションのアンデプロイ

アプリビルダーのアプリケーションはいつでもアンデプロイおよび再デプロイできます（たとえば、新しい一連の休暇管理アプリケーションを作成する場合など）。 アプリケーションをアンデプロイすると、すでに送信されたエントリは保持されますが、新しいエントリを追加することはできません。 アンデプロイするには、

1.  カスタムオブジェクトを開きます（[Control Panel] → [App Builder] → [Custom Objects]）。

2.  *[Apps]* タブで、アンデプロイするアプリのケバブメニューをクリックします。

3.  *[Undeploy]* を選択します。

## データレコードを含むオブジェクトの編集

アプリビルダーは、データの破損や損失を防ぐように設計されています。 データレコードが追加された後でも、フィールドの削除、追加、または編集は許可されます。

### フィールドの削除

データレコードが既にあるオブジェクトからフィールドを削除すると、そのフィールドはUIに表示されなくなりますが、データは削除されません。 削除されたフィールドと同じ名前とタイプのフィールドを作成すると、フィールドのデータはそのデータを既に保持しているレコードに復元されます。

既存のオブジェクトからフィールドを削除するには、オブジェクトビューでフィールドにカーソルを合わせ、*[x]* をクリックします。 確認を求められ、データ損失について警告されます。

![フィールドを削除すると、既存のレコードのデータが失われます。](./creating-an-application-with-app-builder/images/06.png)

### フィールドの追加と編集

オブジェクトで既に使用されているフィールドを追加または編集する場合、オブジェクトへの変更は、追加または編集後に追加されたレコードにのみ影響します。 既存のすべてのレコードは、オブジェクトへの変更の影響を受けません。

フィールドを既存のオブジェクトに直接追加するには、オブジェクトの任意のフォームビューを開き、フォームビルダーの左側のペインにある追加ボタンをクリックします。

![既存のオブジェクトにフィールドを直接追加できます。](./creating-an-application-with-app-builder/images/05.png)

フィールドを編集するには、フィールドが存在するフォームビューに移動し、フォームビルダーでフィールドをクリックします。 フィールドのプロパティが開きます。

![フォームビューからフィールドを編集できます。](./creating-an-application-with-app-builder/images/07.png)

## 関連情報

  - [App Builder Overview](./app-builder-overview.md)
