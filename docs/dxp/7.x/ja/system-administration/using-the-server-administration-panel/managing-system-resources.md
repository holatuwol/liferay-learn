# システムリソースの管理

サーバー管理パネルの[リソース]タブにはいくつかの機能があり、すべてシステムのリソースの低レベルの監視と管理に関連しています。

| 機能            | 目的                                                                        |
| ------------- | ------------------------------------------------------------------------- |
| システムインフォメーション | Liferay DXPのバージョンと稼働時間データを取得する                                            |
| メモリモニター       | 合計メモリと最大メモリに対する使用済みメモリの監視                                                 |
| システムのアクション    | ガベージコレクターを実行してスレッドダンプを生成する                                                |
| キャッシュアクション    | キャッシュされたコンテンツをさまざまなレベルでクリアする                                              |
| 検証アクション       | データベースの正確性とメンバーシップポリシーを確認する                                               |
| クリーンアップアクション  | ドキュメントとメディアのプレビューとサムネイルをリセットします。テーマとページリビジョンの権限と孤立したポートレットプリファレンスをクリーンアップ |

![サーバー管理の[リソース]タブから、いくつかのサーバーメンテナンスタスクを実行できます。](./managing-system-resources/images/01.png)

## サーバー管理：リソースリファレンス

**ガベージコレクターを実行します** ガベージコレクターを実行して、JVMにメモリを解放するよう指示します。

**スレッドダンプを生成します** デッドロックの存在と場所を特定するために、後で精査するためにスレッドダンプを生成します。 これは、パフォーマンステスト中に、`com.liferay.server.admin.web.internal.portlet.actionに ロガーカテゴリを最初に追加する場合に役立ちます。EditServerMVCActionCommand` と`INFO`に設定する 。

**このVMによってキャッシュされたコンテンツをクリアする：** ローカルキャッシュに保存されているコンテンツをクリアします。 クラスター化されたEhcacheではなく、ローカルJVMスコープのEhcacheコンテンツのみがクリアされます。 [1](#one)

**クラスター全体でキャッシュされたコンテンツをクリアします** クラスター化されたEhcache全体のコンテンツをクリアします。 [1](#one)

**データベースキャッシュをクリアします** データベースキャッシュをクリアします。 これにより、永続化レイヤーでのデータベース結果を除いて、Ehcacheコンテンツはクリアされません。 [1](#one)

**ダイレクトサーブレットキャッシュをクリアします** ダイレクトサーブレットキャッシュをクリアします。 緊急フィックスを適用する必要がある場合、このアクションはキャッシュを手動でクリアし、JSPを強制的に再ロードします。

直接サーブレットコンテキストは、アプリケーションサーバーのディスパッチャーチェーンを介してアクセスする代わりに、生成されたサーブレットを直接キャッシュしてアクセスすることにより、JSPサービスのパフォーマンスを最適化します。 この関数は、JSPにフィルターが不要な場合にのみ適しています。パフォーマンスを向上させるには本番モードで有効にする必要がありますが、JSPサーブレットをオンザフライでリロードできるように開発モードでは無効にする必要があります。 詳細については、 `portal.properties` ファイルのDirect Servlet Contextセクションを参照してください。 [1](#one)

**すべてのプラグインのデータベーステーブルを確認します** すべてのテーブルをインデックスと照合して、データ検索の精度を確認します。

**メンバーシップポリシーの確認：** 既存のサイトメンバーシップポリシーが正しく適用されていることを確認し、更新を自動的に適用します。 データベースが手動で変更されたりハッキングされたりした結果、サイトに割り当てられたユーザーがサイトメンバーシップポリシーに違反した場合、このアクションにより、実装されているすべてのサイトメンバーシップポリシーの検証方法がトリガーされます。 違反しているメンバーシップは自動的に変更されます。

**ドキュメントとメディアのプレビューファイルとサムネイルファイルをリセット：** ドキュメントとメディアライブラリの各アイテムのプレビューを再生成します。

**権限のクリーンアップ：** Guest、User、およびPower Userロールの権限を削除して、ユーザーのカスタマイズ可能なページの管理を簡素化します。 ページに追加の権限は、すべてのポートレットのゲストロールとユーザーロールから削除され、パワーユーザーの範囲がポータル全体からユーザー個人サイトに縮小されます。

**孤立したページリビジョンポートレットプリファレンスのクリーンアップ：** ページリビジョンに属するすべての孤立したポートレットプリファレンスを削除します。 ページリビジョンに属していないポートレットに属しているポートレットプリファレンスは削除されます。 ランタイムポートレットに属するポートレットプリファレンスは削除されます。

**孤立したテーマポートレット設定のクリーンアップ：** テーマによって追加されたすべての孤立したポートレット設定を削除します。 ポートレットプリファレンスがデータベースで孤立した場合は、データベースエントリをクリーンアップします。

\ [<a name="one">1</a>\]キャッシュは複数のレベルで発生します。 一部の上位のキャッシュレイヤーは、下位のキャッシュレイヤーを認識しません。 より高いレベルのキャッシュをすでにクリアしている場合でも、常に可能な限り最も低い（最も詳細な）レイヤーでキャッシュをクリアしてください。
